/**
 * promise-wtf
 * v1.1.0
 * built: Mon, 19 Sep 2016 01:52:34 GMT
 * git: https://github.com/ndaidong/promise-wtf
 * author: @ndaidong
 * License: MIT
**/
;(function(g,f){if("undefined"!==typeof module&&module.exports)module.exports=f();else{var b=window||{};b.define&&b.define.amd?b.define([],f):b.exports?b.exports=f():b[g]=f()}})("Promise",function(){var g="undefined"!==typeof module&&module.exports?"node":"browser",f=function(a){return a&&"[object Function]"==={}.toString.call(a)},b=function(a){var c=0,d=null,k,l=this,m=function(h){if(0===c)return d=h,!1;var a=2===c?h.onResolved:h.onRejected;return a?h.resolve(a(k)):2===c?h.resolve(k):h.reject(k)},
e=function(a){c=1;k=a;d&&m(d)},g=function(a){a&&f(a.then)?a.then(g,e):(c=2,k=a,d&&m(d))};l.then=function(a,c){return new b(function(b,d){return m({onResolved:a,onRejected:c,resolve:b,reject:d})})};l["catch"]=function(a){if(a&&f(a))return l.then(null,a)};return a(g,e)};b.resolve=function(a){return new b(function(c){return c(a)})};b.reject=function(a){return new b(function(c,b){return b(a)})};b.all=function(a){var c=[],d=b.resolve(null);a.forEach(function(a){d=d.then(function(){return a}).then(function(a){c.push(a)})});
return d.then(function(){return c})};var e=("node"===g?global:window).Promise||b;e.prototype["finally"]=function(a){return this.then(function(b){return e.resolve(a()).then(function(){return b})},function(b){return e.resolve(a()).then(function(){throw b;})})};e.series=function(a){return new e(function(b,d){var c=a.length,e=function(f){a[f](function(a){return a?d(a):f<c-1?e(f+1):b()})};return e(0)})};return e});